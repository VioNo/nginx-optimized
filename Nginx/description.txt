–ü—Ä–æ–≤–µ—Ä–∫–∞:
#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
docker exec nginx-simple whoami
docker exec nginx-final whoami
#–≤—ã–≤–µ–ª–æ user_octov, –Ω—É —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ

#bash
docker exec -it nginx-simple bash
docker exec -it nginx-final bash
#–¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è bash

MIME-—Ç–∏–ø—ã (Multipurpose Internet Mail Extensions) ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ–±—â–∞—é—Ç –±—Ä–∞—É–∑–µ—Ä—É (–∏–ª–∏ –¥—Ä—É–≥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É), –∫–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä –µ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ —Ç–µ–∫—Å—Ç).

Worker-–ø—Ä–æ—Ü–µ—Å—Å—ã –≤ Nginx ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –≤—Å—é –ø–æ–ª–µ–∑–Ω—É—é —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–µ—Ä–∞. –†–∞–∑–±–µ—Ä—ë–º –ø–æ–¥—Ä–æ–±–Ω–æ:
1. –ß—Ç–æ —Ç–∞–∫–æ–µ worker-–ø—Ä–æ—Ü–µ—Å—Å—ã?
–≠—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Nginx, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≥–ª–∞–≤–Ω—ã–º (master) –ø—Ä–æ—Ü–µ—Å—Å–æ–º.
–ö–∞–∂–¥—ã–π worker –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ).
–ê–Ω–∞–ª–æ–≥–∏—è: –∫–∞–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –≤ call-—Ü–µ–Ω—Ç—Ä–µ (–∫–∞–∂–¥—ã–π worker ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –º–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–æ–≤).
–ö–∞–∂–¥—ã–π worker —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ. –ï—Å–ª–∏ –æ–¥–∏–Ω —É–ø–∞–¥—ë—Ç ‚Äî –¥—Ä—É–≥–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç—É.

SSL (Secure Sockets Layer) –∏ TLS (Transport Layer Security) ‚Äî —ç—Ç–æ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—Ä–∞—É–∑–µ—Ä–æ–º) –∏ —Å–µ—Ä–≤–µ—Ä–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ–±-—Å–∞–π—Ç–æ–º).
–û–Ω–∏ –Ω—É–∂–Ω—ã, —á—Ç–æ–±—ã:
–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (—á—Ç–æ–±—ã –∏—Ö –Ω–µ–ª—å–∑—è –±—ã–ª–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å).
–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ (—á—Ç–æ–±—ã –≤–∞—Å –Ω–µ –æ–±–º–∞–Ω—É–ª –º–æ—à–µ–Ω–Ω–∏–∫).
–ó–∞—â–∏—Ç–∏—Ç—å –æ—Ç –ø–æ–¥–º–µ–Ω—ã –¥–∞–Ω–Ω—ã—Ö (—á—Ç–æ–±—ã –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –Ω–µ –∏–∑–º–µ–Ω–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é "–Ω–∞ –ª–µ—Ç—É").
1. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? (–ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∞–ª–æ–≥–∏—è)
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ HTTP ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω–∞—è –ø–æ—á—Ç–æ–≤–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞:
–ï—ë –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ª—é–±–æ–π –ø–æ—á—Ç–∞–ª—å–æ–Ω (–ø—Ä–æ–≤–∞–π–¥–µ—Ä, —Ö–∞–∫–µ—Ä).
–ï—ë –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–ø–∏—Å–∞—Ç—å —á—Ç–æ-—Ç–æ –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏).
HTTPS (HTTP + SSL/TLS) ‚Äî —ç—Ç–æ –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å—å—é:
–î–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã (–ø—Ä–æ—á–∏—Ç–∞—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—å).
–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω (–µ—Å—Ç—å "–ø–µ—á–∞—Ç—å", —á—Ç–æ —ç—Ç–æ –Ω–µ –º–æ—à–µ–Ω–Ω–∏–∫).
2. –ó–∞—á–µ–º SSL/TLS –≤ –Ω–∞—à–µ–º Nginx?
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Nginx —É –Ω–∞—Å –µ—Å—Ç—å:
nginx
server {
    listen 443 ssl;  # ‚Üê HTTPS-–ø–æ—Ä—Ç
    ssl_certificate /etc/nginx/ssl/nginx.crt;  # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
    ssl_certificate_key /etc/nginx/ssl/nginx.key;  # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
    ...
}
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
–°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 443 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–ª—è HTTPS).
–î–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (nginx.crt) ‚Äî –∫–∞–∫ "–ø–∞—Å–ø–æ—Ä—Ç" —Å–∞–π—Ç–∞.
–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (nginx.key) ‚Äî –∫–∞–∫ "–ø–µ—á–∞—Ç—å", –∫–æ—Ç–æ—Ä–æ–π –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.
3. –ö–∞–∫ –±—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç SSL?
–ö–æ–≥–¥–∞ –≤—ã –∑–∞—Ö–æ–¥–∏—Ç–µ –Ω–∞ https://—Å–∞–π—Ç:
–ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É —Å–µ—Ä–≤–µ—Ä–∞.
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–æ–º—É –æ–Ω –≤—ã–¥–∞–Ω:
–ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π (–∫–∞–∫ —É –Ω–∞—Å –≤ –ø—Ä–∏–º–µ—Ä–µ) ‚Üí –±—Ä–∞—É–∑–µ—Ä –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç: "–°–∞–π—Ç –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π".
–ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ (Let's Encrypt, DigiCert) ‚Üí –ø–æ–∫–∞–∂–µ—Ç –∑–µ–ª—ë–Ω—ã–π –∑–∞–º–æ—á–µ–∫ üîí.
–ù–∞—á–∏–Ω–∞–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ –∏–¥—ë—Ç –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ).
4. –ß–µ–º TLS –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç SSL?
SSL ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª (–≤–µ—Ä—Å–∏–∏ 1.0, 2.0, 3.0). –°–µ–π—á–∞—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑-–∑–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π.
TLS ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ SSL (–≤–µ—Ä—Å–∏–∏ 1.0, 1.1, 1.2, 1.3).
–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Nginx:
nginx
ssl_protocols TLSv1.2 TLSv1.3;  # –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
(–ú—ã –æ—Ç–∫–ª—é—á–∞–µ–º —Å—Ç–∞—Ä—ã–µ SSL –∏ –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ TLS 1.2+).
5. –ö–∞–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?
–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–¥–ª—è —Ç–µ—Å—Ç–æ–≤):
bash
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
    -keyout nginx.key -out nginx.crt -subj "/CN=localhost"
-x509 ‚Äî —Ç–∏–ø —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.
-nodes ‚Äî –±–µ–∑ –ø–∞—Ä–æ–ª—è (–∏–Ω–∞—á–µ Nginx –±—É–¥–µ—Ç —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –µ–≥–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ).
-days 365 ‚Äî —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (1 –≥–æ–¥).
-newkey rsa:2048 ‚Äî RSA-–∫–ª—é—á –¥–ª–∏–Ω–æ–π 2048 –±–∏—Ç.
-subj "/CN=localhost" ‚Äî –¥–ª—è –∫–∞–∫–æ–≥–æ –¥–æ–º–µ–Ω–∞ (–∑–¥–µ—Å—å ‚Äî localhost).
–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –Ω—É–∂–µ–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π) –∏–ª–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ (DigiCert, Sectigo).
6. –ß—Ç–æ —à–∏—Ñ—Ä—É–µ—Ç SSL/TLS?
–ü–∞—Ä–æ–ª–∏ (—á—Ç–æ–±—ã –∏—Ö –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª–∏).
–ü–ª–∞—Ç–µ–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç –∏ —Ç.–¥.).
–õ–∏—á–Ω—É—é –ø–µ—Ä–µ–ø–∏—Å–∫—É (–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã, –ø–æ—á—Ç–∞).
–õ—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –∫ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º.
–ë–µ–∑ HTTPS —Å–µ–π—á–∞—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –±—Ä–∞—É–∑–µ—Ä–æ–≤ (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è, –∫–∞–º–µ—Ä–∞, PWA-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).
–í—ã–≤–æ–¥
SSL/TLS ‚Äî —ç—Ç–æ "–∑–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç" –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
HTTPS = HTTP + SSL/TLS (–ø–æ—Ä—Ç 443).
–í Nginx –Ω—É–∂–Ω–æ:
–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (.crt).
–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (.key).
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (—Ç–æ–ª—å–∫–æ TLS 1.2+).
–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã ‚Äî —Ç–æ–ª—å–∫–æ Let's Encrypt –∏–ª–∏ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã.

–æ–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –∏ –ø–∞–¥–∞–µ—Ç, —á–µ —Å–æ–±—Å—Ç–Ω–æ –¥–µ–ª–∞—Ç—å?
docker logs nginx-simple
PS C:\Users\octov> docker logs nginx-simple
/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
/docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
10-listen-on-ipv6-by-default.sh: info: can not modify /etc/nginx/conf.d/default.conf (read-only file system?)
/docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
/docker-entrypoint.sh: Configuration complete; ready for start up
2025/05/28 18:03:22 [warn] 1#1: the "user" directive makes sense only if the master process runs with super-user privileges, ignored in /etc/nginx/nginx.conf:1
nginx: [warn] the "user" directive makes sense only if the master process runs with super-user privileges, ignored in /etc/nginx/nginx.conf:1
2025/05/28 18:03:22 [emerg] 1#1: cannot load certificate "/etc/nginx/ssl/nginx.crt": BIO_new_file() failed (SSL: error:80000002:system library::No such file or directo
ry:calling fopen(/etc/nginx/ssl/nginx.crt, r) error:10000080:BIO routines::no such file)
nginx: [emerg] cannot load certificate "/etc/nginx/ssl/nginx.crt": BIO_new_file() failed (SSL: error:80000002:system library::No such file or directory:calling fopen(/
etc/nginx/ssl/nginx.crt, r) error:10000080:BIO routines::no such file)
–Ω–∏—á–µ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ...(,–Ω–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ

docker exec -u root nginx-simple cat /etc/passwd
–≤—ã–≤–æ–¥ Error response from daemon: container 6d095a60ba83cde4cc9dbba6bcec00f2559f8a23bec41c143a62a91fbe1e0aad is not running
–æ–∂–∏–¥–∞–µ–º–æ

openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout nginx/ssl/nginx.key -out nginx/ssl/nginx.crt -subj "/CN=localhost"

mkdir -p ssl
openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout ssl/key.pem -out ssl/cert.pem -subj "/C=US/ST=State/L=City/O=Company/CN=localhost"

docker run --rm -it -v ${PWD}/ssl:/ssl alpine/openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /ssl/key.pem -out /ssl/cert.pem -subj "/C=US/ST=State/L=City/O=Company/CN=localhost"

docker run -d -p 80:80 -p 443:443 --name my-nginx my-nginx

icacls ssl\key.pem /grant "Everyone:(R)"
icacls ssl\cert.pem /grant "Everyone:(R)"

docker run -d `
  -p 80:80 `
  -p 443:443 `
  -v ${PWD}/html:/usr/share/nginx/html:ro `
  --name nginx-final `
  nginx-final


  docker push noteren/nginx-final